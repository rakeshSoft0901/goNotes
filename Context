What is context?
context is used to carry deadlines, cancellation signals, and request-scoped values across API boundaries and goroutines.

import "context"

2Ô∏è‚É£ Why Context is Needed?

‚úî Cancel goroutines
‚úî Handle timeouts
‚úî Prevent goroutine leaks
‚úî Propagate request lifecycle

üìå Widely used in:
HTTP servers
Microservices
Database calls

3Ô∏è‚É£ Root Contexts
context.Background()
context.TODO()
Context	                  Use
Background	Main,         long-lived
TODO	                    Placeholder

4Ô∏è‚É£ Creating Cancellable Context
ctx, cancel := context.WithCancel(context.Background())
defer cancel()
‚úî Call cancel() to stop work.

5Ô∏è‚É£ Context with Timeout
ctx, cancel := context.WithTimeout(context.Background(), 2*time.Second)
defer cancel()
‚úî Auto-cancel after timeout.

6Ô∏è‚É£ Context with Deadline
ctx, cancel := context.WithDeadline(context.Background(), time.Now().Add(time.Second))
defer cancel()

7Ô∏è‚É£ How Cancellation Works
select {
case <-ctx.Done():
    fmt.Println(ctx.Err())
    return
}
üìå Done() returns a channel.

8Ô∏è‚É£ Context Error Values
Error                      	          Meaning
context.Canceled	                    Manual cancel
context.DeadlineExceeded	            Timeout

9Ô∏è‚É£ Passing Context (INTERVIEW RULE)
func process(ctx context.Context) {}
‚úî Always first parameter
‚úî Never store inside struct

üîü Context with Goroutines (VERY IMPORTANT)
go func(ctx context.Context) {
    for {
        select {
        case <-ctx.Done():
            return
        default:
            work()
        }
    }
}(ctx)
‚úî Prevents leaks.

1Ô∏è‚É£1Ô∏è‚É£ Context Value (USE CAREFULLY)
ctx = context.WithValue(ctx, "userID", 123)

‚úî Request-scoped data
‚ùå Not for optional params

Best Practice Key Type
type userKeyType string
const userKey userKeyType = "user"

1Ô∏è‚É£2Ô∏è‚É£ Context Tree (IMPORTANT)
parent ‚Üí child ‚Üí child
‚úî Cancel parent ‚Üí all children cancel
‚ùå Cancel child ‚Üí parent unaffected

1Ô∏è‚É£3Ô∏è‚É£ HTTP Server Example (INTERVIEW)

func handler(w http.ResponseWriter, r *http.Request) {
    ctx := r.Context()
    select {
    case <-ctx.Done():
        return
    }
}
‚úî Automatically canceled when client disconnects.

1Ô∏è‚É£4Ô∏è‚É£ Database / API Calls
db.QueryContext(ctx, query)
‚úî Respects cancellation.

1Ô∏è‚É£5Ô∏è‚É£ Context Anti-Patterns (INTERVIEW TRAPS)
‚ùå Storing context in struct
‚ùå Passing nil context
‚ùå Using context for config
‚ùå Forgetting to call cancel

1Ô∏è‚É£6Ô∏è‚É£ Context vs Channel
Context              	Channel
Cancellation	        Data
Hierarchical	        Flat
Standard	            Custom
‚úî Often used together.

1Ô∏è‚É£7Ô∏è‚É£ Context & Select (COMMON)
select {
case <-ctx.Done():
    return
case v := <-ch:
    process(v)
}


1Ô∏è‚É£8Ô∏è‚É£ Best Practices Summary
‚úî Always call cancel
‚úî Pass context explicitly
‚úî Keep values small
‚úî Respect cancellation

Context
Context carries deadlines, cancellation signals, and request-scoped values across goroutines.

Why First Parameter?
To make cancellation propagation explicit and consistent.

üß† Quick Memory Points

Context controls lifecycle
Done() = cancellation signal
Parent cancels children
First parameter
Never store context





















