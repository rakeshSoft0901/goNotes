1ï¸âƒ£ What is a Goroutine?
A goroutine is a lightweight thread managed by the Go runtime.

go doWork()
ğŸ“Œ Runs concurrently, not necessarily in parallel.

2ï¸âƒ£ Goroutine vs Thread (INTERVIEW)
Goroutine	                            OS Thread
Very lightweight (~2KB stack)	        Heavy (~1MB)
Managed by Go runtime            	    Managed by OS
Millions possible	                    Limited
Fast context switch	                  Slow

3ï¸âƒ£ How to Start a Goroutine
go func() {
    fmt.Println("Hello")
}()

4ï¸âƒ£ Main Goroutine Rule (VERY IMPORTANT)
func main() {
    go fmt.Println("Hello")
}
âŒ Output may not appear
ğŸ“Œ Program exits when main goroutine exits
âœ” Fix using sync tools (WaitGroup, channel)

5ï¸âƒ£ Goroutine with Function Parameters (TRAP)
for i := 0; i < 3; i++ {
    go func() {
        fmt.Println(i)
    }()
}

âŒ Output: 3 3 3

âœ” Correct:
for i := 0; i < 3; i++ {
    go func(i int) {
        fmt.Println(i)
    }(i)
}

6ï¸âƒ£ Goroutines & Closures (INTERVIEW FAVORITE)
ğŸ“Œ Goroutines capture variables, not values.

7ï¸âƒ£ Goroutines are Asynchronous
go task1()
task2()
âœ” No execution order guarantee.

8ï¸âƒ£ Synchronization Problem
count := 0
go func() { count++ }()
go func() { count++ }()

âŒ Race condition
âœ” Use mutex or channel.

9ï¸âƒ£ WaitGroup (BASIC SYNC)
var wg sync.WaitGroup

wg.Add(1)
go func() {
    defer wg.Done()
    fmt.Println("Done")
}()
wg.Wait()
ğŸ“Œ Waits for goroutines to finish.

ğŸ”Ÿ Goroutine Panic (INTERVIEW)
go func() {
    panic("boom")
}()
âŒ Crashes entire program
âœ” Recover must be inside same goroutine.

1ï¸âƒ£1ï¸âƒ£ Goroutine Leak (IMPORTANT)
go func() {
    for {
        // waiting forever
    }
}()

âŒ Goroutine never exits
ğŸ“Œ Use context / channel to stop.

1ï¸âƒ£2ï¸âƒ£ Anonymous vs Named Goroutine
go worker()

Anonymous:
go func() {}()
âœ” Both valid.

1ï¸âƒ£3ï¸âƒ£ Communication Rule (GO PROVERB)
Do not communicate by sharing memory; share memory by communicating
âœ” Use channels, not mutex where possible.

1ï¸âƒ£4ï¸âƒ£ When Goroutines Run in Parallel?
Multiple CPU cores
GOMAXPROCS > 1

runtime.GOMAXPROCS(4)

1ï¸âƒ£5ï¸âƒ£ Goroutine Scheduling (INTERVIEW)
Go uses M:N scheduling:
M goroutines
N OS threads

1ï¸âƒ£6ï¸âƒ£ Common Goroutine Patterns
âœ” Fan-out / fan-in
âœ” Worker pool
âœ” Pipeline

1ï¸âƒ£7ï¸âƒ£ Goroutine Best Practices

âœ” Keep goroutines short-lived
âœ” Always provide exit path
âœ” Use WaitGroup or channels
âœ” Avoid shared state

1ï¸âƒ£8ï¸âƒ£ Common Interview Traps

âŒ Assuming order of execution
âŒ Forgetting to wait
âŒ Closure variable bug
âŒ Panic inside goroutine

Goroutine
A goroutine is a lightweight thread managed by the Go runtime for concurrent execution.

Concurrency vs Parallelism
Concurrency is structuring programs to handle multiple tasks, parallelism is executing tasks simultaneously.

ğŸ§  Quick Memory Points
go keyword
Lightweight
Asynchronous
Main exits â†’ all exit
Closure trap

























